---
title: "AnniePan_ggplot_practice"
author: "Annie Pan"
date: "2023-01-12"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

## Set up for Data Visualization

Uncomment and run chunk to install the package ggplot2. Recomment out this section before knitting the document
```{r}
install.packages("ggplot2", repos = "http://cran.us.r-project.org")
install.packages("rlang", repos = "http://cran.us.r-project.org")
```

Open ggplot2 library
```{r}
library(ggplot2)
```

## Plotting Example

The dataset `mpg` has data on several car models collected the US EPA. The code chunk below generates a plot that displays some of that data.

```{r}
ggplot(data = mpg) +
  geom_point(mapping = aes(x = cty, y = hwy, color = class, shape = drv))
```

### Description of the Data Visualization Example
The geometric primitive chosen to encode each car is a point. A visualization with points (i.e a scatterplot) is generated by selecting `geom_point`.

The visualization uses three visual channels: position (on x- and y- axes), hue, and shape. These visual channels are incorporated into the visualization by specifying aesthetic mappings in the ggplot function.

The position on the x-axis encodes a car’s fuel efficiency in the city in miles per gallon (mpg).  These values are recorded in the dataset under the variable titled `cty`. The position on the y-axis encodes a car’s fuel efficiency on the highway in mpg from the variable `hwy`.

Hues are used to encode the class of cars such as compact, midsize, and SUV. The `class` variable is added to the plot by mapping the levels of `color` to the values of `class`.

Shapes are utilized to encode the type of drive including four wheel drive, front-wheel drive, and rear wheel drive. The `drv` variable is added to the plot by mapping the levels of `shape` to the values of `drv`.

## Code Template. If desired use for prompts below, replace the bracketed sections and delete the `#`'s
```{r}
# ggplot(data = <DATA>) + 
#  <GEOM_FUNCTION>(mapping = aes(<MAPPINGS>))
```

## Visualizing Data from Experiments on Cyanobacteria Growth

In 2020, the Baltimore Biocrew, a team of high school student researchers, was interested in engineering a strain of cyanobacteria to be more tolerant in iron-poor environment. First, they set out to show that iron is a limiting nutrient for cyanobacteria. They tested this by tracking the growth of a specific strain of cyanobacteria (Synechococcus CB0101) in tubes with various iron concentrations relative to that found in standard growth media (0x, 1/100x, 1/10x, 1x, 10x). Four students each conducted an independent trial by measuring turbidity of each culture tube using Secchi sticks over many days. Later, these measurement were converted into optical density (OD).  

1. Load in `growth` data from the students' experiment
```{r}
growth <- read.csv('https://raw.githubusercontent.com/kpclifton/intersession_data_2023/main/code/day4/cyanobacteria_growth.csv')
```

2. View how the data is structured by printing the first 10 rows.
```{r}
head(growth, 10)
```

3. View a summary of the data to understand basic statistics about the values in the columns (such as counts for categorical variables and means for continous variables).
```{r}
summary(growth)
```

Optional: The `View` function opens the dataframe in another tab where you can scroll through the whole dataset. Recomment out this section before knitting the document
```{r}
#View(growth)
```

4. Plot `Hours` vs `OD` as smooth line using `geom_smooth`
```{r}
ggplot(data = growth) +
  geom_smooth(mapping = aes(x = Hours, y = OD))
```

5. Plot `Hours` vs `OD` as scatter plot using `geom_point`
```{r}
ggplot(data = growth) +
  geom_point(mapping = aes(x = Hours, y = OD))
```


6. Plot `Hours` vs `OD` as scatter plot and encode trial as the visual channel hue by mapping `color` to the variable `Trial`
```{r}
ggplot(data = growth) +
  geom_point(mapping = aes(x = Hours, y = OD, color = Trial))
```


7. Try to create new exploratory visualization(s) of your own design. Consider what you think would be useful given the purpose of the experiment or simply test out different different functions and settings. You can use the ggplot cheat sheet.

```{r}
ggplot(data = growth) +
  geom_boxplot(mapping = aes(x = Hours, y = OD, color = Trial))
```

```{r}
ggplot(data = growth) +
  geom_line(mapping = aes(x = Hours, y = OD)) +
  facet_wrap(facets = vars(Trial))
```

```{r}
ggplot(data = growth) +
  geom_point(mapping = aes(x = Hours, y = OD)) +
  facet_wrap(facets = vars(Trial))
```
```{r}
ggplot(data = growth) +
  geom_smooth(mapping = aes(x = Hours, y = OD)) +
  facet_wrap(facets = vars(Trial))
```